{"version":3,"sources":["../../src/server/config.ts"],"sourcesContent":["import { existsSync } from 'fs'\nimport { basename, extname, join, relative, isAbsolute, resolve } from 'path'\nimport { pathToFileURL } from 'url'\nimport findUp from 'next/dist/compiled/find-up'\nimport * as Log from '../build/output/log'\nimport { CONFIG_FILES, PHASE_DEVELOPMENT_SERVER } from '../shared/lib/constants'\nimport { defaultConfig, normalizeConfig } from './config-shared'\nimport type {\n  ExperimentalConfig,\n  NextConfigComplete,\n  NextConfig,\n  TurboLoaderItem,\n} from './config-shared'\n\nimport { loadWebpackHook } from './config-utils'\nimport { imageConfigDefault } from '../shared/lib/image-config'\nimport type { ImageConfig } from '../shared/lib/image-config'\nimport { loadEnvConfig, updateInitialEnv } from '@next/env'\nimport { flushAndExit } from '../telemetry/flush-and-exit'\nimport { findRootDir } from '../lib/find-root'\nimport { setHttpClientAndAgentOptions } from './setup-http-agent-env'\nimport { pathHasPrefix } from '../shared/lib/router/utils/path-has-prefix'\nimport { matchRemotePattern } from '../shared/lib/match-remote-pattern'\n\nimport type { ZodError } from 'next/dist/compiled/zod'\nimport { hasNextSupport } from '../server/ci-info'\nimport { transpileConfig } from '../build/next-config-ts/transpile-config'\nimport { dset } from '../shared/lib/dset'\nimport { normalizeZodErrors } from '../shared/lib/zod'\n\nexport { normalizeConfig } from './config-shared'\nexport type { DomainLocale, NextConfig } from './config-shared'\n\nfunction normalizeNextConfigZodErrors(\n  error: ZodError<NextConfig>\n): [errorMessages: string[], shouldExit: boolean] {\n  let shouldExit = false\n  const issues = normalizeZodErrors(error)\n  return [\n    issues.flatMap(({ issue, message }) => {\n      if (issue.path[0] === 'images') {\n        // We exit the build when encountering an error in the images config\n        shouldExit = true\n      }\n\n      return message\n    }),\n    shouldExit,\n  ]\n}\n\nexport function warnOptionHasBeenDeprecated(\n  config: NextConfig,\n  nestedPropertyKey: string,\n  reason: string,\n  silent: boolean\n) {\n  if (!silent) {\n    let current = config\n    let found = true\n    const nestedPropertyKeys = nestedPropertyKey.split('.')\n    for (const key of nestedPropertyKeys) {\n      if (current[key] !== undefined) {\n        current = current[key]\n      } else {\n        found = false\n        break\n      }\n    }\n    if (found) {\n      Log.warn(reason)\n    }\n  }\n}\n\nexport function warnOptionHasBeenMovedOutOfExperimental(\n  config: NextConfig,\n  oldExperimentalKey: string,\n  newKey: string,\n  configFileName: string,\n  silent: boolean\n) {\n  if (config.experimental && oldExperimentalKey in config.experimental) {\n    if (!silent) {\n      Log.warn(\n        `\\`experimental.${oldExperimentalKey}\\` has been moved to \\`${newKey}\\`. ` +\n          `Please update your ${configFileName} file accordingly.`\n      )\n    }\n\n    let current = config\n    const newKeys = newKey.split('.')\n    while (newKeys.length > 1) {\n      const key = newKeys.shift()!\n      current[key] = current[key] || {}\n      current = current[key]\n    }\n    current[newKeys.shift()!] = (config.experimental as any)[oldExperimentalKey]\n  }\n\n  return config\n}\n\nfunction warnCustomizedOption(\n  config: NextConfig,\n  key: string,\n  defaultValue: any,\n  customMessage: string,\n  configFileName: string,\n  silent: boolean\n) {\n  const segs = key.split('.')\n  let current = config\n\n  while (segs.length >= 1) {\n    const seg = segs.shift()!\n    if (!(seg in current)) {\n      return\n    }\n    current = current[seg]\n  }\n\n  if (!silent && current !== defaultValue) {\n    Log.warn(\n      `The \"${key}\" option has been modified. ${customMessage ? customMessage + '. ' : ''}It should be removed from your ${configFileName}.`\n    )\n  }\n}\n\nfunction assignDefaults(\n  dir: string,\n  userConfig: { [key: string]: any },\n  silent: boolean\n) {\n  const configFileName = userConfig.configFileName\n  if (typeof userConfig.exportTrailingSlash !== 'undefined') {\n    if (!silent) {\n      Log.warn(\n        `The \"exportTrailingSlash\" option has been renamed to \"trailingSlash\". Please update your ${configFileName}.`\n      )\n    }\n    if (typeof userConfig.trailingSlash === 'undefined') {\n      userConfig.trailingSlash = userConfig.exportTrailingSlash\n    }\n    delete userConfig.exportTrailingSlash\n  }\n\n  const config = Object.keys(userConfig).reduce<{ [key: string]: any }>(\n    (currentConfig, key) => {\n      const value = userConfig[key]\n\n      if (value === undefined || value === null) {\n        return currentConfig\n      }\n\n      if (key === 'distDir') {\n        if (typeof value !== 'string') {\n          throw new Error(\n            `Specified distDir is not a string, found type \"${typeof value}\"`\n          )\n        }\n        const userDistDir = value.trim()\n\n        // don't allow public as the distDir as this is a reserved folder for\n        // public files\n        if (userDistDir === 'public') {\n          throw new Error(\n            `The 'public' directory is reserved in Next.js and can not be set as the 'distDir'. https://nextjs.org/docs/messages/can-not-output-to-public`\n          )\n        }\n        // make sure distDir isn't an empty string as it can result in the provided\n        // directory being deleted in development mode\n        if (userDistDir.length === 0) {\n          throw new Error(\n            `Invalid distDir provided, distDir can not be an empty string. Please remove this config or set it to undefined`\n          )\n        }\n      }\n\n      if (key === 'pageExtensions') {\n        if (!Array.isArray(value)) {\n          throw new Error(\n            `Specified pageExtensions is not an array of strings, found \"${value}\". Please update this config or remove it.`\n          )\n        }\n\n        if (!value.length) {\n          throw new Error(\n            `Specified pageExtensions is an empty array. Please update it with the relevant extensions or remove it.`\n          )\n        }\n\n        value.forEach((ext) => {\n          if (typeof ext !== 'string') {\n            throw new Error(\n              `Specified pageExtensions is not an array of strings, found \"${ext}\" of type \"${typeof ext}\". Please update this config or remove it.`\n            )\n          }\n        })\n      }\n\n      if (!!value && value.constructor === Object) {\n        currentConfig[key] = {\n          ...defaultConfig[key],\n          ...Object.keys(value).reduce<any>((c, k) => {\n            const v = value[k]\n            if (v !== undefined && v !== null) {\n              c[k] = v\n            }\n            return c\n          }, {}),\n        }\n      } else {\n        currentConfig[key] = value\n      }\n\n      return currentConfig\n    },\n    {}\n  )\n\n  // TODO: remove these once we've made PPR default\n  // If this was defaulted to true, it implies that the configuration was\n  // overridden for testing to be defaulted on.\n  if (defaultConfig.experimental?.ppr) {\n    Log.warn(\n      `\\`experimental.ppr\\` has been defaulted to \\`true\\` because \\`__NEXT_EXPERIMENTAL_PPR\\` was set to \\`true\\` during testing.`\n    )\n  }\n\n  const result = { ...defaultConfig, ...config }\n\n  if (\n    result.experimental?.allowDevelopmentBuild &&\n    process.env.NODE_ENV !== 'development'\n  ) {\n    throw new Error(\n      `The experimental.allowDevelopmentBuild option requires NODE_ENV to be explicitly set to 'development'.`\n    )\n  }\n\n  if (\n    !process.env.__NEXT_VERSION?.includes('canary') &&\n    !process.env.__NEXT_TEST_MODE &&\n    !process.env.NEXT_PRIVATE_SKIP_CANARY_CHECK\n  ) {\n    // Prevents usage of certain experimental features outside of canary\n    if (result.experimental?.ppr) {\n      throw new CanaryOnlyError('experimental.ppr')\n    } else if (result.experimental?.dynamicIO) {\n      throw new CanaryOnlyError('experimental.dynamicIO')\n    } else if (result.experimental?.turbo?.unstablePersistentCaching) {\n      throw new CanaryOnlyError('experimental.turbo.unstablePersistentCaching')\n    }\n  }\n\n  if (result.output === 'export') {\n    if (result.i18n) {\n      throw new Error(\n        'Specified \"i18n\" cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-i18n'\n      )\n    }\n\n    if (!hasNextSupport) {\n      if (result.rewrites) {\n        Log.warn(\n          'Specified \"rewrites\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes'\n        )\n      }\n      if (result.redirects) {\n        Log.warn(\n          'Specified \"redirects\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes'\n        )\n      }\n      if (result.headers) {\n        Log.warn(\n          'Specified \"headers\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes'\n        )\n      }\n    }\n  }\n\n  if (typeof result.assetPrefix !== 'string') {\n    throw new Error(\n      `Specified assetPrefix is not a string, found type \"${typeof result.assetPrefix}\" https://nextjs.org/docs/messages/invalid-assetprefix`\n    )\n  }\n\n  if (typeof result.basePath !== 'string') {\n    throw new Error(\n      `Specified basePath is not a string, found type \"${typeof result.basePath}\"`\n    )\n  }\n\n  if (result.basePath !== '') {\n    if (result.basePath === '/') {\n      throw new Error(\n        `Specified basePath /. basePath has to be either an empty string or a path prefix\"`\n      )\n    }\n\n    if (!result.basePath.startsWith('/')) {\n      throw new Error(\n        `Specified basePath has to start with a /, found \"${result.basePath}\"`\n      )\n    }\n\n    if (result.basePath !== '/') {\n      if (result.basePath.endsWith('/')) {\n        throw new Error(\n          `Specified basePath should not end with /, found \"${result.basePath}\"`\n        )\n      }\n\n      if (result.assetPrefix === '') {\n        result.assetPrefix = result.basePath\n      }\n\n      if (result.amp?.canonicalBase === '') {\n        result.amp.canonicalBase = result.basePath\n      }\n    }\n  }\n\n  if (result?.images) {\n    const images: ImageConfig = result.images\n\n    if (typeof images !== 'object') {\n      throw new Error(\n        `Specified images should be an object received ${typeof images}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n      )\n    }\n\n    if (images.localPatterns) {\n      if (!Array.isArray(images.localPatterns)) {\n        throw new Error(\n          `Specified images.localPatterns should be an Array received ${typeof images.localPatterns}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n        )\n      }\n      // avoid double-pushing the same pattern if it already exists\n      const hasMatch = images.localPatterns.some(\n        (pattern) =>\n          pattern.pathname === '/_next/static/media/**' && pattern.search === ''\n      )\n      if (!hasMatch) {\n        // static import images are automatically allowed\n        images.localPatterns.push({\n          pathname: '/_next/static/media/**',\n          search: '',\n        })\n      }\n    }\n\n    if (images.remotePatterns) {\n      if (!Array.isArray(images.remotePatterns)) {\n        throw new Error(\n          `Specified images.remotePatterns should be an Array received ${typeof images.remotePatterns}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n        )\n      }\n\n      // static images are automatically prefixed with assetPrefix\n      // so we need to ensure _next/image allows downloading from\n      // this resource\n      if (config.assetPrefix?.startsWith('http')) {\n        try {\n          const url = new URL(config.assetPrefix)\n          const hasMatchForAssetPrefix = images.remotePatterns.some((pattern) =>\n            matchRemotePattern(pattern, url)\n          )\n\n          // avoid double-pushing the same pattern if it already can be matched\n          if (!hasMatchForAssetPrefix) {\n            images.remotePatterns.push({\n              hostname: url.hostname,\n              protocol: url.protocol.replace(/:$/, '') as 'http' | 'https',\n              port: url.port,\n            })\n          }\n        } catch (error) {\n          throw new Error(\n            `Invalid assetPrefix provided. Original error: ${error}`\n          )\n        }\n      }\n    }\n\n    if (images.domains) {\n      if (!Array.isArray(images.domains)) {\n        throw new Error(\n          `Specified images.domains should be an Array received ${typeof images.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n        )\n      }\n    }\n\n    if (!images.loader) {\n      images.loader = 'default'\n    }\n\n    if (\n      images.loader !== 'default' &&\n      images.loader !== 'custom' &&\n      images.path === imageConfigDefault.path\n    ) {\n      throw new Error(\n        `Specified images.loader property (${images.loader}) also requires images.path property to be assigned to a URL prefix.\\nSee more info here: https://nextjs.org/docs/api-reference/next/legacy/image#loader-configuration`\n      )\n    }\n\n    if (\n      images.path === imageConfigDefault.path &&\n      result.basePath &&\n      !pathHasPrefix(images.path, result.basePath)\n    ) {\n      images.path = `${result.basePath}${images.path}`\n    }\n\n    // Append trailing slash for non-default loaders and when trailingSlash is set\n    if (\n      images.path &&\n      !images.path.endsWith('/') &&\n      (images.loader !== 'default' || result.trailingSlash)\n    ) {\n      images.path += '/'\n    }\n\n    if (images.loaderFile) {\n      if (images.loader !== 'default' && images.loader !== 'custom') {\n        throw new Error(\n          `Specified images.loader property (${images.loader}) cannot be used with images.loaderFile property. Please set images.loader to \"custom\".`\n        )\n      }\n      const absolutePath = join(dir, images.loaderFile)\n      if (!existsSync(absolutePath)) {\n        throw new Error(\n          `Specified images.loaderFile does not exist at \"${absolutePath}\".`\n        )\n      }\n      images.loaderFile = absolutePath\n    }\n  }\n\n  warnCustomizedOption(\n    result,\n    'experimental.esmExternals',\n    true,\n    'experimental.esmExternals is not recommended to be modified as it may disrupt module resolution',\n    configFileName,\n    silent\n  )\n\n  warnOptionHasBeenDeprecated(\n    result,\n    'experimental.instrumentationHook',\n    `\\`experimental.instrumentationHook\\` is no longer needed, because \\`instrumentation.js\\` is available by default. You can remove it from ${configFileName}.`,\n    silent\n  )\n\n  warnOptionHasBeenDeprecated(\n    result,\n    'experimental.after',\n    `\\`experimental.after\\` is no longer needed, because \\`after\\` is available by default. You can remove it from ${configFileName}.`,\n    silent\n  )\n\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'bundlePagesExternals',\n    'bundlePagesRouterDependencies',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'serverComponentsExternalPackages',\n    'serverExternalPackages',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'relay',\n    'compiler.relay',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'styledComponents',\n    'compiler.styledComponents',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'emotion',\n    'compiler.emotion',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'reactRemoveProperties',\n    'compiler.reactRemoveProperties',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'removeConsole',\n    'compiler.removeConsole',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'swrDelta',\n    'expireTime',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'outputFileTracingRoot',\n    'outputFileTracingRoot',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'outputFileTracingIncludes',\n    'outputFileTracingIncludes',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'outputFileTracingExcludes',\n    'outputFileTracingExcludes',\n    configFileName,\n    silent\n  )\n\n  if ((result.experimental as any).outputStandalone) {\n    if (!silent) {\n      Log.warn(\n        `experimental.outputStandalone has been renamed to \"output: 'standalone'\", please move the config.`\n      )\n    }\n    result.output = 'standalone'\n  }\n\n  if (\n    typeof result.experimental?.serverActions?.bodySizeLimit !== 'undefined'\n  ) {\n    const value = parseInt(\n      result.experimental.serverActions?.bodySizeLimit.toString()\n    )\n    if (isNaN(value) || value < 1) {\n      throw new Error(\n        'Server Actions Size Limit must be a valid number or filesize format larger than 1MB: https://nextjs.org/docs/app/api-reference/next-config-js/serverActions#bodysizelimit'\n      )\n    }\n  }\n\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'transpilePackages',\n    'transpilePackages',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'skipMiddlewareUrlNormalize',\n    'skipMiddlewareUrlNormalize',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'skipTrailingSlashRedirect',\n    'skipTrailingSlashRedirect',\n    configFileName,\n    silent\n  )\n\n  if (\n    result?.outputFileTracingRoot &&\n    !isAbsolute(result.outputFileTracingRoot)\n  ) {\n    result.outputFileTracingRoot = resolve(result.outputFileTracingRoot)\n    if (!silent) {\n      Log.warn(\n        `outputFileTracingRoot should be absolute, using: ${result.outputFileTracingRoot}`\n      )\n    }\n  }\n\n  if (\n    result?.experimental?.turbo?.root &&\n    !isAbsolute(result.experimental.turbo.root)\n  ) {\n    result.experimental.turbo.root = resolve(result.experimental.turbo.root)\n    if (!silent) {\n      Log.warn(\n        `experimental.turbo.root should be absolute, using: ${result.experimental.turbo.root}`\n      )\n    }\n  }\n\n  // only leverage deploymentId\n  if (process.env.NEXT_DEPLOYMENT_ID) {\n    result.deploymentId = process.env.NEXT_DEPLOYMENT_ID\n  }\n\n  if (result?.outputFileTracingRoot && !result?.experimental?.turbo?.root) {\n    dset(\n      result,\n      ['experimental', 'turbo', 'root'],\n      result.outputFileTracingRoot\n    )\n  }\n\n  // use the closest lockfile as tracing root\n  if (!result?.outputFileTracingRoot || !result?.experimental?.turbo?.root) {\n    let rootDir = findRootDir(dir)\n\n    if (rootDir) {\n      if (!result?.outputFileTracingRoot) {\n        result.outputFileTracingRoot = rootDir\n        defaultConfig.outputFileTracingRoot = result.outputFileTracingRoot\n      }\n\n      if (!result?.experimental?.turbo?.root) {\n        dset(result, ['experimental', 'turbo', 'root'], rootDir)\n        dset(defaultConfig, ['experimental', 'turbo', 'root'], rootDir)\n      }\n    }\n  }\n\n  setHttpClientAndAgentOptions(result || defaultConfig)\n\n  if (result.i18n) {\n    const { i18n } = result\n    const i18nType = typeof i18n\n\n    if (i18nType !== 'object') {\n      throw new Error(\n        `Specified i18n should be an object received ${i18nType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (!Array.isArray(i18n.locales)) {\n      throw new Error(\n        `Specified i18n.locales should be an Array received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (i18n.locales.length > 100 && !silent) {\n      Log.warn(\n        `Received ${i18n.locales.length} i18n.locales items which exceeds the recommended max of 100.\\nSee more info here: https://nextjs.org/docs/advanced-features/i18n-routing#how-does-this-work-with-static-generation`\n      )\n    }\n\n    const defaultLocaleType = typeof i18n.defaultLocale\n\n    if (!i18n.defaultLocale || defaultLocaleType !== 'string') {\n      throw new Error(\n        `Specified i18n.defaultLocale should be a string.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (typeof i18n.domains !== 'undefined' && !Array.isArray(i18n.domains)) {\n      throw new Error(\n        `Specified i18n.domains must be an array of domain objects e.g. [ { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] } ] received ${typeof i18n.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (i18n.domains) {\n      const invalidDomainItems = i18n.domains.filter((item) => {\n        if (!item || typeof item !== 'object') return true\n        if (!item.defaultLocale) return true\n        if (!item.domain || typeof item.domain !== 'string') return true\n\n        if (item.domain.includes(':')) {\n          console.warn(\n            `i18n domain: \"${item.domain}\" is invalid it should be a valid domain without protocol (https://) or port (:3000) e.g. example.vercel.sh`\n          )\n          return true\n        }\n\n        const defaultLocaleDuplicate = i18n.domains?.find(\n          (altItem) =>\n            altItem.defaultLocale === item.defaultLocale &&\n            altItem.domain !== item.domain\n        )\n\n        if (!silent && defaultLocaleDuplicate) {\n          console.warn(\n            `Both ${item.domain} and ${defaultLocaleDuplicate.domain} configured the defaultLocale ${item.defaultLocale} but only one can. Change one item's default locale to continue`\n          )\n          return true\n        }\n\n        let hasInvalidLocale = false\n\n        if (Array.isArray(item.locales)) {\n          for (const locale of item.locales) {\n            if (typeof locale !== 'string') hasInvalidLocale = true\n\n            for (const domainItem of i18n.domains || []) {\n              if (domainItem === item) continue\n              if (domainItem.locales && domainItem.locales.includes(locale)) {\n                console.warn(\n                  `Both ${item.domain} and ${domainItem.domain} configured the locale (${locale}) but only one can. Remove it from one i18n.domains config to continue`\n                )\n                hasInvalidLocale = true\n                break\n              }\n            }\n          }\n        }\n\n        return hasInvalidLocale\n      })\n\n      if (invalidDomainItems.length > 0) {\n        throw new Error(\n          `Invalid i18n.domains values:\\n${invalidDomainItems\n            .map((item: any) => JSON.stringify(item))\n            .join(\n              '\\n'\n            )}\\n\\ndomains value must follow format { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] }.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n        )\n      }\n    }\n\n    if (!Array.isArray(i18n.locales)) {\n      throw new Error(\n        `Specified i18n.locales must be an array of locale strings e.g. [\"en-US\", \"nl-NL\"] received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    const invalidLocales = i18n.locales.filter(\n      (locale: any) => typeof locale !== 'string'\n    )\n\n    if (invalidLocales.length > 0) {\n      throw new Error(\n        `Specified i18n.locales contains invalid values (${invalidLocales\n          .map(String)\n          .join(\n            ', '\n          )}), locales must be valid locale tags provided as strings e.g. \"en-US\".\\n` +\n          `See here for list of valid language sub-tags: http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry`\n      )\n    }\n\n    if (!i18n.locales.includes(i18n.defaultLocale)) {\n      throw new Error(\n        `Specified i18n.defaultLocale should be included in i18n.locales.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    const normalizedLocales = new Set()\n    const duplicateLocales = new Set()\n\n    i18n.locales.forEach((locale) => {\n      const localeLower = locale.toLowerCase()\n      if (normalizedLocales.has(localeLower)) {\n        duplicateLocales.add(locale)\n      }\n      normalizedLocales.add(localeLower)\n    })\n\n    if (duplicateLocales.size > 0) {\n      throw new Error(\n        `Specified i18n.locales contains the following duplicate locales:\\n` +\n          `${[...duplicateLocales].join(', ')}\\n` +\n          `Each locale should be listed only once.\\n` +\n          `See more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    // make sure default Locale is at the front\n    i18n.locales = [\n      i18n.defaultLocale,\n      ...i18n.locales.filter((locale) => locale !== i18n.defaultLocale),\n    ]\n\n    const localeDetectionType = typeof i18n.localeDetection\n\n    if (\n      localeDetectionType !== 'boolean' &&\n      localeDetectionType !== 'undefined'\n    ) {\n      throw new Error(\n        `Specified i18n.localeDetection should be undefined or a boolean received ${localeDetectionType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n  }\n\n  if (result.devIndicators?.buildActivityPosition) {\n    const { buildActivityPosition } = result.devIndicators\n    const allowedValues = [\n      'top-left',\n      'top-right',\n      'bottom-left',\n      'bottom-right',\n    ]\n\n    if (!allowedValues.includes(buildActivityPosition)) {\n      throw new Error(\n        `Invalid \"devIndicator.buildActivityPosition\" provided, expected one of ${allowedValues.join(\n          ', '\n        )}, received ${buildActivityPosition}`\n      )\n    }\n  }\n\n  if (result.experimental) {\n    result.experimental.cacheLife = {\n      ...defaultConfig.experimental?.cacheLife,\n      ...result.experimental.cacheLife,\n    }\n    const defaultDefault = defaultConfig.experimental?.cacheLife?.['default']\n    if (\n      !defaultDefault ||\n      defaultDefault.revalidate === undefined ||\n      defaultDefault.expire === undefined ||\n      !defaultConfig.experimental?.staleTimes?.static\n    ) {\n      throw new Error('No default cacheLife profile.')\n    }\n    const defaultCacheLifeProfile = result.experimental.cacheLife['default']\n    if (!defaultCacheLifeProfile) {\n      result.experimental.cacheLife['default'] = defaultDefault\n    } else {\n      if (defaultCacheLifeProfile.stale === undefined) {\n        const staticStaleTime = result.experimental.staleTimes?.static\n        defaultCacheLifeProfile.stale =\n          staticStaleTime ?? defaultConfig.experimental?.staleTimes?.static\n      }\n      if (defaultCacheLifeProfile.revalidate === undefined) {\n        defaultCacheLifeProfile.revalidate = defaultDefault.revalidate\n      }\n      if (defaultCacheLifeProfile.expire === undefined) {\n        defaultCacheLifeProfile.expire =\n          result.expireTime ?? defaultDefault.expire\n      }\n    }\n    // This is the most dynamic cache life profile.\n    const secondsCacheLifeProfile = result.experimental.cacheLife['seconds']\n    if (\n      secondsCacheLifeProfile &&\n      secondsCacheLifeProfile.stale === undefined\n    ) {\n      // We default this to whatever stale time you had configured for dynamic content.\n      // Since this is basically a dynamic cache life profile.\n      const dynamicStaleTime = result.experimental.staleTimes?.dynamic\n      secondsCacheLifeProfile.stale =\n        dynamicStaleTime ?? defaultConfig.experimental?.staleTimes?.dynamic\n    }\n  }\n\n  if (result.experimental?.cacheHandlers) {\n    const allowedHandlerNameRegex = /[a-z-]/\n\n    if (typeof result.experimental.cacheHandlers !== 'object') {\n      throw new Error(\n        `Invalid \"experimental.cacheHandlers\" provided, expected an object e.g. { default: '/my-handler.js' }, received ${JSON.stringify(result.experimental.cacheHandlers)}`\n      )\n    }\n\n    const handlerKeys = Object.keys(result.experimental.cacheHandlers)\n    const invalidHandlerItems: Array<{ key: string; reason: string }> = []\n\n    for (const key of handlerKeys) {\n      if (!allowedHandlerNameRegex.test(key)) {\n        invalidHandlerItems.push({\n          key,\n          reason: 'key must only use characters a-z and -',\n        })\n      } else {\n        const handlerPath = result.experimental.cacheHandlers[key]\n\n        if (handlerPath && !existsSync(handlerPath)) {\n          invalidHandlerItems.push({\n            key,\n            reason: `cache handler path provided does not exist, received ${handlerPath}`,\n          })\n        }\n      }\n      if (invalidHandlerItems.length) {\n        throw new Error(\n          `Invalid handler fields configured for \"experimental.cacheHandler\":\\n${invalidHandlerItems.map((item) => `${key}: ${item.reason}`).join('\\n')}`\n        )\n      }\n    }\n  }\n\n  const userProvidedModularizeImports = result.modularizeImports\n  // Unfortunately these packages end up re-exporting 10600 modules, for example: https://unpkg.com/browse/@mui/icons-material@5.11.16/esm/index.js.\n  // Leveraging modularizeImports tremendously reduces compile times for these.\n  result.modularizeImports = {\n    ...(userProvidedModularizeImports || {}),\n    // This is intentionally added after the user-provided modularizeImports config.\n    '@mui/icons-material': {\n      transform: '@mui/icons-material/{{member}}',\n    },\n    lodash: {\n      transform: 'lodash/{{member}}',\n    },\n  }\n\n  const userProvidedOptimizePackageImports =\n    result.experimental?.optimizePackageImports || []\n  if (!result.experimental) {\n    result.experimental = {}\n  }\n  result.experimental.optimizePackageImports = [\n    ...new Set([\n      ...userProvidedOptimizePackageImports,\n      'lucide-react',\n      'date-fns',\n      'lodash-es',\n      'ramda',\n      'antd',\n      'react-bootstrap',\n      'ahooks',\n      '@ant-design/icons',\n      '@headlessui/react',\n      '@headlessui-float/react',\n      '@heroicons/react/20/solid',\n      '@heroicons/react/24/solid',\n      '@heroicons/react/24/outline',\n      '@visx/visx',\n      '@tremor/react',\n      'rxjs',\n      '@mui/material',\n      '@mui/icons-material',\n      'recharts',\n      'react-use',\n      'effect',\n      '@effect/schema',\n      '@effect/platform',\n      '@effect/platform-node',\n      '@effect/platform-browser',\n      '@effect/platform-bun',\n      '@effect/sql',\n      '@effect/sql-mssql',\n      '@effect/sql-mysql2',\n      '@effect/sql-pg',\n      '@effect/sql-squlite-node',\n      '@effect/sql-squlite-bun',\n      '@effect/sql-squlite-wasm',\n      '@effect/sql-squlite-react-native',\n      '@effect/sql-squlite-wasm',\n      '@effect/rpc',\n      '@effect/rpc-http',\n      '@effect/typeclass',\n      '@effect/experimental',\n      '@effect/opentelemetry',\n      '@material-ui/core',\n      '@material-ui/icons',\n      '@tabler/icons-react',\n      'mui-core',\n      // We don't support wildcard imports for these configs, e.g. `react-icons/*`\n      // so we need to add them manually.\n      // In the future, we should consider automatically detecting packages that\n      // need to be optimized.\n      'react-icons/ai',\n      'react-icons/bi',\n      'react-icons/bs',\n      'react-icons/cg',\n      'react-icons/ci',\n      'react-icons/di',\n      'react-icons/fa',\n      'react-icons/fa6',\n      'react-icons/fc',\n      'react-icons/fi',\n      'react-icons/gi',\n      'react-icons/go',\n      'react-icons/gr',\n      'react-icons/hi',\n      'react-icons/hi2',\n      'react-icons/im',\n      'react-icons/io',\n      'react-icons/io5',\n      'react-icons/lia',\n      'react-icons/lib',\n      'react-icons/lu',\n      'react-icons/md',\n      'react-icons/pi',\n      'react-icons/ri',\n      'react-icons/rx',\n      'react-icons/si',\n      'react-icons/sl',\n      'react-icons/tb',\n      'react-icons/tfi',\n      'react-icons/ti',\n      'react-icons/vsc',\n      'react-icons/wi',\n    ]),\n  ]\n\n  return result\n}\n\nexport default async function loadConfig(\n  phase: string,\n  dir: string,\n  {\n    customConfig,\n    rawConfig,\n    silent = true,\n    onLoadUserConfig,\n    reactProductionProfiling,\n  }: {\n    customConfig?: object | null\n    rawConfig?: boolean\n    silent?: boolean\n    onLoadUserConfig?: (conf: NextConfig) => void\n    reactProductionProfiling?: boolean\n  } = {}\n): Promise<NextConfigComplete> {\n  if (!process.env.__NEXT_PRIVATE_RENDER_WORKER) {\n    try {\n      loadWebpackHook()\n    } catch (err) {\n      // this can fail in standalone mode as the files\n      // aren't traced/included\n      if (!process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n        throw err\n      }\n    }\n  }\n\n  if (process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n    return JSON.parse(process.env.__NEXT_PRIVATE_STANDALONE_CONFIG)\n  }\n\n  // For the render worker, we directly return the serialized config from the\n  // parent worker (router worker) to avoid loading it again.\n  // This is because loading the config might be expensive especiall when people\n  // have Webpack plugins added.\n  // Because of this change, unserializable fields like `.webpack` won't be\n  // existing here but the render worker shouldn't use these as well.\n  if (process.env.__NEXT_PRIVATE_RENDER_WORKER_CONFIG) {\n    return JSON.parse(process.env.__NEXT_PRIVATE_RENDER_WORKER_CONFIG)\n  }\n\n  const curLog = silent\n    ? {\n        warn: () => {},\n        info: () => {},\n        error: () => {},\n      }\n    : Log\n\n  loadEnvConfig(dir, phase === PHASE_DEVELOPMENT_SERVER, curLog)\n\n  let configFileName = 'next.config.js'\n\n  if (customConfig) {\n    return assignDefaults(\n      dir,\n      {\n        configOrigin: 'server',\n        configFileName,\n        ...customConfig,\n      },\n      silent\n    ) as NextConfigComplete\n  }\n\n  const path = await findUp(CONFIG_FILES, { cwd: dir })\n\n  if (process.env.__NEXT_TEST_MODE) {\n    if (path) {\n      Log.info(`Loading config from ${path}`)\n    } else {\n      Log.info('No config file found')\n    }\n  }\n\n  // If config file was found\n  if (path?.length) {\n    configFileName = basename(path)\n\n    let userConfigModule: any\n    try {\n      const envBefore = Object.assign({}, process.env)\n\n      // `import()` expects url-encoded strings, so the path must be properly\n      // escaped and (especially on Windows) absolute paths must pe prefixed\n      // with the `file://` protocol\n      if (process.env.__NEXT_TEST_MODE === 'jest') {\n        // dynamic import does not currently work inside of vm which\n        // jest relies on so we fall back to require for this case\n        // https://github.com/nodejs/node/issues/35889\n        userConfigModule = require(path)\n      } else if (configFileName === 'next.config.ts') {\n        userConfigModule = await transpileConfig({\n          nextConfigPath: path,\n          cwd: dir,\n        })\n      } else {\n        userConfigModule = await import(pathToFileURL(path).href)\n      }\n      const newEnv: typeof process.env = {} as any\n\n      for (const key of Object.keys(process.env)) {\n        if (envBefore[key] !== process.env[key]) {\n          newEnv[key] = process.env[key]\n        }\n      }\n      updateInitialEnv(newEnv)\n\n      if (rawConfig) {\n        return userConfigModule\n      }\n    } catch (err) {\n      // TODO: Modify docs to add cases of failing next.config.ts transformation\n      curLog.error(\n        `Failed to load ${configFileName}, see more info here https://nextjs.org/docs/messages/next-config-error`\n      )\n      throw err\n    }\n\n    const userConfig = await normalizeConfig(\n      phase,\n      userConfigModule.default || userConfigModule\n    )\n\n    if (!process.env.NEXT_MINIMAL) {\n      // We only validate the config against schema in non minimal mode\n      const { configSchema } =\n        require('./config-schema') as typeof import('./config-schema')\n      const state = configSchema.safeParse(userConfig)\n\n      if (state.success === false) {\n        // error message header\n        const messages = [`Invalid ${configFileName} options detected: `]\n\n        const [errorMessages, shouldExit] = normalizeNextConfigZodErrors(\n          state.error\n        )\n        // ident list item\n        for (const error of errorMessages) {\n          messages.push(`    ${error}`)\n        }\n\n        // error message footer\n        messages.push(\n          'See more info here: https://nextjs.org/docs/messages/invalid-next-config'\n        )\n\n        if (shouldExit) {\n          for (const message of messages) {\n            console.error(message)\n          }\n          await flushAndExit(1)\n        } else {\n          for (const message of messages) {\n            curLog.warn(message)\n          }\n        }\n      }\n    }\n\n    if (userConfig.target && userConfig.target !== 'server') {\n      throw new Error(\n        `The \"target\" property is no longer supported in ${configFileName}.\\n` +\n          'See more info here https://nextjs.org/docs/messages/deprecated-target-config'\n      )\n    }\n\n    if (userConfig.amp?.canonicalBase) {\n      const { canonicalBase } = userConfig.amp || ({} as any)\n      userConfig.amp = userConfig.amp || {}\n      userConfig.amp.canonicalBase =\n        (canonicalBase.endsWith('/')\n          ? canonicalBase.slice(0, -1)\n          : canonicalBase) || ''\n    }\n\n    if (reactProductionProfiling) {\n      userConfig.reactProductionProfiling = reactProductionProfiling\n    }\n\n    if (\n      userConfig.experimental?.turbo?.loaders &&\n      !userConfig.experimental?.turbo?.rules\n    ) {\n      curLog.warn(\n        'experimental.turbo.loaders is now deprecated. Please update next.config.js to use experimental.turbo.rules as soon as possible.\\n' +\n          'The new option is similar, but the key should be a glob instead of an extension.\\n' +\n          'Example: loaders: { \".mdx\": [\"mdx-loader\"] } -> rules: { \"*.mdx\": [\"mdx-loader\"] }\" }\\n' +\n          'See more info here https://nextjs.org/docs/app/api-reference/next-config-js/turbo'\n      )\n\n      const rules: Record<string, TurboLoaderItem[]> = {}\n      for (const [ext, loaders] of Object.entries(\n        userConfig.experimental.turbo.loaders\n      )) {\n        rules['*' + ext] = loaders as TurboLoaderItem[]\n      }\n\n      userConfig.experimental.turbo.rules = rules\n    }\n\n    if (userConfig.experimental?.useLightningcss) {\n      const { loadBindings } = require('next/dist/build/swc')\n      const isLightningSupported = (await loadBindings())?.css?.lightning\n\n      if (!isLightningSupported) {\n        curLog.warn(\n          `experimental.useLightningcss is set, but the setting is disabled because next-swc/wasm does not support it yet.`\n        )\n        userConfig.experimental.useLightningcss = false\n      }\n    }\n\n    onLoadUserConfig?.(userConfig)\n    const completeConfig = assignDefaults(\n      dir,\n      {\n        configOrigin: relative(dir, path),\n        configFile: path,\n        configFileName,\n        ...userConfig,\n      },\n      silent\n    ) as NextConfigComplete\n    return completeConfig\n  } else {\n    const configBaseName = basename(CONFIG_FILES[0], extname(CONFIG_FILES[0]))\n    const unsupportedConfig = findUp.sync(\n      [\n        `${configBaseName}.cjs`,\n        `${configBaseName}.cts`,\n        `${configBaseName}.mts`,\n        `${configBaseName}.json`,\n        `${configBaseName}.jsx`,\n        `${configBaseName}.tsx`,\n      ],\n      { cwd: dir }\n    )\n    if (unsupportedConfig?.length) {\n      throw new Error(\n        `Configuring Next.js via '${basename(\n          unsupportedConfig\n        )}' is not supported. Please replace the file with 'next.config.js', 'next.config.mjs', or 'next.config.ts'.`\n      )\n    }\n  }\n\n  // always call assignDefaults to ensure settings like\n  // reactRoot can be updated correctly even with no next.config.js\n  const completeConfig = assignDefaults(\n    dir,\n    defaultConfig,\n    silent\n  ) as NextConfigComplete\n  completeConfig.configFileName = configFileName\n  setHttpClientAndAgentOptions(completeConfig)\n  return completeConfig\n}\n\nexport function getEnabledExperimentalFeatures(\n  userNextConfigExperimental: NextConfig['experimental']\n) {\n  const enabledExperiments: (keyof ExperimentalConfig)[] = []\n\n  if (!userNextConfigExperimental) return enabledExperiments\n\n  // defaultConfig.experimental is predefined and will never be undefined\n  // This is only a type guard for the typescript\n  if (defaultConfig.experimental) {\n    for (const featureName of Object.keys(\n      userNextConfigExperimental\n    ) as (keyof ExperimentalConfig)[]) {\n      if (\n        featureName in defaultConfig.experimental &&\n        userNextConfigExperimental[featureName] !==\n          defaultConfig.experimental[featureName]\n      ) {\n        enabledExperiments.push(featureName)\n      }\n    }\n  }\n  return enabledExperiments\n}\n\nclass CanaryOnlyError extends Error {\n  constructor(feature: string) {\n    super(\n      `The experimental feature \"${feature}\" can only be enabled when using the latest canary version of Next.js.`\n    )\n    // This error is meant to interrupt the server start/build process\n    // but the stack trace isn't meaningful, as it points to internal code.\n    this.stack = undefined\n  }\n}\n"],"names":["existsSync","basename","extname","join","relative","isAbsolute","resolve","pathToFileURL","findUp","Log","CONFIG_FILES","PHASE_DEVELOPMENT_SERVER","defaultConfig","normalizeConfig","loadWebpackHook","imageConfigDefault","loadEnvConfig","updateInitialEnv","flushAndExit","findRootDir","setHttpClientAndAgentOptions","pathHasPrefix","matchRemotePattern","hasNextSupport","transpileConfig","dset","normalizeZodErrors","normalizeNextConfigZodErrors","error","shouldExit","issues","flatMap","issue","message","path","warnOptionHasBeenDeprecated","config","nestedPropertyKey","reason","silent","current","found","nestedPropertyKeys","split","key","undefined","warn","warnOptionHasBeenMovedOutOfExperimental","oldExperimentalKey","newKey","configFileName","experimental","newKeys","length","shift","warnCustomizedOption","defaultValue","customMessage","segs","seg","assignDefaults","dir","userConfig","result","process","exportTrailingSlash","trailingSlash","Object","keys","reduce","currentConfig","value","Error","userDistDir","trim","Array","isArray","forEach","ext","constructor","c","k","v","ppr","allowDevelopmentBuild","env","NODE_ENV","__NEXT_VERSION","includes","__NEXT_TEST_MODE","NEXT_PRIVATE_SKIP_CANARY_CHECK","CanaryOnlyError","dynamicIO","turbo","unstablePersistentCaching","output","i18n","rewrites","redirects","headers","assetPrefix","basePath","startsWith","endsWith","amp","canonicalBase","images","localPatterns","hasMatch","some","pattern","pathname","search","push","remotePatterns","url","URL","hasMatchForAssetPrefix","hostname","protocol","replace","port","domains","loader","loaderFile","absolutePath","outputStandalone","serverActions","bodySizeLimit","parseInt","toString","isNaN","outputFileTracingRoot","root","NEXT_DEPLOYMENT_ID","deploymentId","rootDir","i18nType","locales","defaultLocaleType","defaultLocale","invalidDomainItems","filter","item","domain","console","defaultLocaleDuplicate","find","altItem","hasInvalidLocale","locale","domainItem","map","JSON","stringify","invalidLocales","String","normalizedLocales","Set","duplicateLocales","localeLower","toLowerCase","has","add","size","localeDetectionType","localeDetection","devIndicators","buildActivityPosition","allowedValues","cacheLife","defaultDefault","revalidate","expire","staleTimes","static","defaultCacheLifeProfile","stale","staticStaleTime","expireTime","secondsCacheLifeProfile","dynamicStaleTime","dynamic","cacheHandlers","allowedHandlerNameRegex","handlerKeys","invalidHandlerItems","test","handlerPath","userProvidedModularizeImports","modularizeImports","transform","lodash","userProvidedOptimizePackageImports","optimizePackageImports","loadConfig","phase","customConfig","rawConfig","onLoadUserConfig","reactProductionProfiling","__NEXT_PRIVATE_RENDER_WORKER","err","__NEXT_PRIVATE_STANDALONE_CONFIG","parse","__NEXT_PRIVATE_RENDER_WORKER_CONFIG","curLog","info","configOrigin","cwd","userConfigModule","envBefore","assign","require","nextConfigPath","href","newEnv","default","NEXT_MINIMAL","configSchema","state","safeParse","success","messages","errorMessages","target","slice","loaders","rules","entries","useLightningcss","loadBindings","isLightningSupported","css","lightning","completeConfig","configFile","configBaseName","unsupportedConfig","sync","getEnabledExperimentalFeatures","userNextConfigExperimental","enabledExperiments","featureName","feature","stack"],"mappings":"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W;QACb;IACF;IAEA,MAAME,qCACJlI,EAAAA,wBAAAA,OAAOZ,YAAY,qBAAnBY,sBAAqBmI,sBAAsB,KAAI,EAAE;IACnD,IAAI,CAACnI,OAAOZ,YAAY,EAAE;QACxBY,OAAOZ,YAAY,GAAG,CAAC;IACzB;IACAY,OAAOZ,YAAY,CAAC+I,sBAAsB,GAAG;WACxC,IAAIpC,IAAI;eACNmC;YACH;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,4EAA4E;YAC5E,mCAAmC;YACnC,0EAA0E;YAC1E,wBAAwB;YACxB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;KACF;IAED,OAAOlI;AACT;AAEA,eAAe,eAAeoI,WAC5BC,KAAa,EACbvI,GAAW,EACX,EACEwI,YAAY,EACZC,SAAS,EACT/J,SAAS,IAAI,EACbgK,gBAAgB,EAChBC,wBAAwB,EAOzB,GAAG,CAAC,CAAC;IAEN,IAAI,CAACxI,QAAQqB,GAAG,CAACoH,4BAA4B,EAAE;QAC7C,IAAI;YACF3L;QACF,EAAE,OAAO4L,KAAK;YACZ,gDAAgD;YAChD,yBAAyB;YACzB,IAAI,CAAC1I,QAAQqB,GAAG,CAACsH,gCAAgC,EAAE;gBACjD,MAAMD;YACR;QACF;IACF;IAEA,IAAI1I,QAAQqB,GAAG,CAACsH,gCAAgC,EAAE;QAChD,OAAOlD,KAAKmD,KAAK,CAAC5I,QAAQqB,GAAG,CAACsH,gCAAgC;IAChE;IAEA,2EAA2E;IAC3E,2DAA2D;IAC3D,8EAA8E;IAC9E,8BAA8B;IAC9B,yEAAyE;IACzE,mEAAmE;IACnE,IAAI3I,QAAQqB,GAAG,CAACwH,mCAAmC,EAAE;QACnD,OAAOpD,KAAKmD,KAAK,CAAC5I,QAAQqB,GAAG,CAACwH,mCAAmC;IACnE;IAEA,MAAMC,SAASvK,SACX;QACEO,MAAM,KAAO;QACbiK,MAAM,KAAO;QACbnL,OAAO,KAAO;IAChB,IACAnB;IAEJO,cAAc6C,KAAKuI,UAAUzL,0BAA0BmM;IAEvD,IAAI5J,iBAAiB;IAErB,IAAImJ,cAAc;QAChB,OAAOzI,eACLC,KACA;YACEmJ,cAAc;YACd9J;YACA,GAAGmJ,YAAY;QACjB,GACA9J;IAEJ;IAEA,MAAML,OAAO,MAAM1B,OAAOE,cAAc;QAAEuM,KAAKpJ;IAAI;IAEnD,IAAIG,QAAQqB,GAAG,CAACI,gBAAgB,EAAE;QAChC,IAAIvD,MAAM;YACRzB,IAAIsM,IAAI,CAAC,CAAC,oBAAoB,EAAE7K,MAAM;QACxC,OAAO;YACLzB,IAAIsM,IAAI,CAAC;QACX;IACF;IAEA,2BAA2B;IAC3B,IAAI7K,wBAAAA,KAAMmB,MAAM,EAAE;YA2FZS,iBAcFA,gCAAAA,0BACCA,iCAAAA,2BAmBCA;QA5HJZ,iBAAiBjD,SAASiC;QAE1B,IAAIgL;QACJ,IAAI;YACF,MAAMC,YAAYhJ,OAAOiJ,MAAM,CAAC,CAAC,GAAGpJ,QAAQqB,GAAG;YAE/C,uEAAuE;YACvE,sEAAsE;YACtE,8BAA8B;YAC9B,IAAIrB,QAAQqB,GAAG,CAACI,gBAAgB,KAAK,QAAQ;gBAC3C,4DAA4D;gBAC5D,0DAA0D;gBAC1D,8CAA8C;gBAC9CyH,mBAAmBG,QAAQnL;YAC7B,OAAO,IAAIgB,mBAAmB,kBAAkB;gBAC9CgK,mBAAmB,MAAM1L,gBAAgB;oBACvC8L,gBAAgBpL;oBAChB+K,KAAKpJ;gBACP;YACF,OAAO;gBACLqJ,mBAAmB,MAAM,MAAM,CAAC3M,cAAc2B,MAAMqL,IAAI;YAC1D;YACA,MAAMC,SAA6B,CAAC;YAEpC,KAAK,MAAM5K,OAAOuB,OAAOC,IAAI,CAACJ,QAAQqB,GAAG,EAAG;gBAC1C,IAAI8H,SAAS,CAACvK,IAAI,KAAKoB,QAAQqB,GAAG,CAACzC,IAAI,EAAE;oBACvC4K,MAAM,CAAC5K,IAAI,GAAGoB,QAAQqB,GAAG,CAACzC,IAAI;gBAChC;YACF;YACA3B,iBAAiBuM;YAEjB,IAAIlB,WAAW;gBACb,OAAOY;YACT;QACF,EAAE,OAAOR,KAAK;YACZ,0EAA0E;YAC1EI,OAAOlL,KAAK,CACV,CAAC,eAAe,EAAEsB,eAAe,uEAAuE,CAAC;YAE3G,MAAMwJ;QACR;QAEA,MAAM5I,aAAa,MAAMjD,gBACvBuL,OACAc,iBAAiBO,OAAO,IAAIP;QAG9B,IAAI,CAAClJ,QAAQqB,GAAG,CAACqI,YAAY,EAAE;YAC7B,iEAAiE;YACjE,MAAM,EAAEC,YAAY,EAAE,GACpBN,QAAQ;YACV,MAAMO,QAAQD,aAAaE,SAAS,CAAC/J;YAErC,IAAI8J,MAAME,OAAO,KAAK,OAAO;gBAC3B,uBAAuB;gBACvB,MAAMC,WAAW;oBAAC,CAAC,QAAQ,EAAE7K,eAAe,mBAAmB,CAAC;iBAAC;gBAEjE,MAAM,CAAC8K,eAAenM,WAAW,GAAGF,6BAClCiM,MAAMhM,KAAK;gBAEb,kBAAkB;gBAClB,KAAK,MAAMA,SAASoM,cAAe;oBACjCD,SAAS9G,IAAI,CAAC,CAAC,IAAI,EAAErF,OAAO;gBAC9B;gBAEA,uBAAuB;gBACvBmM,SAAS9G,IAAI,CACX;gBAGF,IAAIpF,YAAY;oBACd,KAAK,MAAMI,WAAW8L,SAAU;wBAC9B9E,QAAQrH,KAAK,CAACK;oBAChB;oBACA,MAAMf,aAAa;gBACrB,OAAO;oBACL,KAAK,MAAMe,WAAW8L,SAAU;wBAC9BjB,OAAOhK,IAAI,CAACb;oBACd;gBACF;YACF;QACF;QAEA,IAAI6B,WAAWmK,MAAM,IAAInK,WAAWmK,MAAM,KAAK,UAAU;YACvD,MAAM,IAAIzJ,MACR,CAAC,gDAAgD,EAAEtB,eAAe,GAAG,CAAC,GACpE;QAEN;QAEA,KAAIY,kBAAAA,WAAW0C,GAAG,qBAAd1C,gBAAgB2C,aAAa,EAAE;YACjC,MAAM,EAAEA,aAAa,EAAE,GAAG3C,WAAW0C,GAAG,IAAK,CAAC;YAC9C1C,WAAW0C,GAAG,GAAG1C,WAAW0C,GAAG,IAAI,CAAC;YACpC1C,WAAW0C,GAAG,CAACC,aAAa,GAC1B,AAACA,CAAAA,cAAcF,QAAQ,CAAC,OACpBE,cAAcyH,KAAK,CAAC,GAAG,CAAC,KACxBzH,aAAY,KAAM;QAC1B;QAEA,IAAI+F,0BAA0B;YAC5B1I,WAAW0I,wBAAwB,GAAGA;QACxC;QAEA,IACE1I,EAAAA,2BAAAA,WAAWX,YAAY,sBAAvBW,iCAAAA,yBAAyB+B,KAAK,qBAA9B/B,+BAAgCqK,OAAO,KACvC,GAACrK,4BAAAA,WAAWX,YAAY,sBAAvBW,kCAAAA,0BAAyB+B,KAAK,qBAA9B/B,gCAAgCsK,KAAK,GACtC;YACAtB,OAAOhK,IAAI,CACT,sIACE,uFACA,4FACA;YAGJ,MAAMsL,QAA2C,CAAC;YAClD,KAAK,MAAM,CAACtJ,KAAKqJ,QAAQ,IAAIhK,OAAOkK,OAAO,CACzCvK,WAAWX,YAAY,CAAC0C,KAAK,CAACsI,OAAO,EACpC;gBACDC,KAAK,CAAC,MAAMtJ,IAAI,GAAGqJ;YACrB;YAEArK,WAAWX,YAAY,CAAC0C,KAAK,CAACuI,KAAK,GAAGA;QACxC;QAEA,KAAItK,4BAAAA,WAAWX,YAAY,qBAAvBW,0BAAyBwK,eAAe,EAAE;gBAEf,MAAC;YAD9B,MAAM,EAAEC,YAAY,EAAE,GAAGlB,QAAQ;YACjC,MAAMmB,wBAAwB,QAAA,MAAMD,oCAAP,OAAA,AAAC,MAAuBE,GAAG,qBAA3B,KAA6BC,SAAS;YAEnE,IAAI,CAACF,sBAAsB;gBACzB1B,OAAOhK,IAAI,CACT,CAAC,+GAA+G,CAAC;gBAEnHgB,WAAWX,YAAY,CAACmL,eAAe,GAAG;YAC5C;QACF;QAEA/B,oCAAAA,iBAAmBzI;QACnB,MAAM6K,iBAAiB/K,eACrBC,KACA;YACEmJ,cAAc5M,SAASyD,KAAK3B;YAC5B0M,YAAY1M;YACZgB;YACA,GAAGY,UAAU;QACf,GACAvB;QAEF,OAAOoM;IACT,OAAO;QACL,MAAME,iBAAiB5O,SAASS,YAAY,CAAC,EAAE,EAAER,QAAQQ,YAAY,CAAC,EAAE;QACxE,MAAMoO,oBAAoBtO,OAAOuO,IAAI,CACnC;YACE,GAAGF,eAAe,IAAI,CAAC;YACvB,GAAGA,eAAe,IAAI,CAAC;YACvB,GAAGA,eAAe,IAAI,CAAC;YACvB,GAAGA,eAAe,KAAK,CAAC;YACxB,GAAGA,eAAe,IAAI,CAAC;YACvB,GAAGA,eAAe,IAAI,CAAC;SACxB,EACD;YAAE5B,KAAKpJ;QAAI;QAEb,IAAIiL,qCAAAA,kBAAmBzL,MAAM,EAAE;YAC7B,MAAM,IAAImB,MACR,CAAC,yBAAyB,EAAEvE,SAC1B6O,mBACA,0GAA0G,CAAC;QAEjH;IACF;IAEA,qDAAqD;IACrD,iEAAiE;IACjE,MAAMH,iBAAiB/K,eACrBC,KACAjD,eACA2B;IAEFoM,eAAezL,cAAc,GAAGA;IAChC9B,6BAA6BuN;IAC7B,OAAOA;AACT;AAEA,OAAO,SAASK,+BACdC,0BAAsD;IAEtD,MAAMC,qBAAmD,EAAE;IAE3D,IAAI,CAACD,4BAA4B,OAAOC;IAExC,uEAAuE;IACvE,+CAA+C;IAC/C,IAAItO,cAAcuC,YAAY,EAAE;QAC9B,KAAK,MAAMgM,eAAehL,OAAOC,IAAI,CACnC6K,4BACiC;YACjC,IACEE,eAAevO,cAAcuC,YAAY,IACzC8L,0BAA0B,CAACE,YAAY,KACrCvO,cAAcuC,YAAY,CAACgM,YAAY,EACzC;gBACAD,mBAAmBjI,IAAI,CAACkI;YAC1B;QACF;IACF;IACA,OAAOD;AACT;AAEA,MAAMvJ,wBAAwBnB;IAC5BO,YAAYqK,OAAe,CAAE;QAC3B,KAAK,CACH,CAAC,0BAA0B,EAAEA,QAAQ,sEAAsE,CAAC;QAE9G,kEAAkE;QAClE,uEAAuE;QACvE,IAAI,CAACC,KAAK,GAAGxM;IACf;AACF"}