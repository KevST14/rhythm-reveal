{"version":3,"sources":["../../../../src/client/components/segment-cache/prefetch.ts"],"sourcesContent":["import { createPrefetchURL } from '../../components/app-router'\nimport { createCacheKey } from './cache-key'\nimport { schedulePrefetchTask } from './scheduler'\n\n/**\n * Entrypoint for prefetching a URL into the Segment Cache.\n * @param href - The URL to prefetch. Typically this will come from a <Link>,\n * or router.prefetch. It must be validated before we attempt to prefetch it.\n */\nexport function prefetch(href: string, nextUrl: string | null) {\n  const url = createPrefetchURL(href)\n  if (url === null) {\n    // This href should not be prefetched.\n    return\n  }\n  const cacheKey = createCacheKey(url.href, nextUrl)\n  schedulePrefetchTask(cacheKey)\n}\n"],"names":["createPrefetchURL","createCacheKey","schedulePrefetchTask","prefetch","href","nextUrl","url","cacheKey"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,8BAA6B;AAC/D,SAASC,cAAc,QAAQ,cAAa;AAC5C,SAASC,oBAAoB,QAAQ,cAAa;AAElD;;;;CAIC,GACD,OAAO,SAASC,SAASC,IAAY,EAAEC,OAAsB;IAC3D,MAAMC,MAAMN,kBAAkBI;IAC9B,IAAIE,QAAQ,MAAM;QAChB,sCAAsC;QACtC;IACF;IACA,MAAMC,WAAWN,eAAeK,IAAIF,IAAI,EAAEC;IAC1CH,qBAAqBK;AACvB"}